@using MudBlazor

<MudContainer class="@GetMessageClass()">
    <MudText Typo="Typo.body1" Class="message-sender">@Sender</MudText>
    <MudText Typo="Typo.body2" Class="message-content">@Content</MudText>
    <MudText Typo="Typo.caption" Class="message-time">@TimeStamp.ToString("HH:mm")</MudText>
</MudContainer>

@code {
    #region Paramètres
    [Parameter]
    public required string Sender { get; set; }
    [Parameter]
    public required string Content { get; set; }
    [Parameter]
    public DateTime TimeStamp { get; set; }
    [Parameter]
    public required bool IsSentByCurrentUser { get; set; }
    [Parameter]
    public bool IsSent { get; set; } = true;
    #endregion

    private string GetMessageClass()
    {
        string classes = IsSentByCurrentUser? "received" : "sent";
        if (!IsSent) {
            classes = classes + " unsent";
        }
        return classes;
    }
}

<style>
    .sent, .received {
        margin-bottom: 10px;
        max-width: 80%;
        width: fit-content;
        padding: 8px;
        border-radius: 10px;
        color: white;
        word-wrap: break-word;
    }

    .sent {
        background-color: lightgray;
        margin-left: auto;
        margin-right: 0;
        text-align: right;
    }

    .received {
        background-color: #2196F3;
        margin-right: auto;
        margin-left: 0;
        text-align: left;
    }

    .unsent {
        margin-bottom: 10px;
        max-width: 80%;
        width: fit-content;
        padding: 8px;
        border-radius: 10px;
        color: gray;
        background-color: #f0f0f0;
        word-wrap: break-word;
    }
</style>
